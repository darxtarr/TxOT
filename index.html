<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IRONCLAD v0.5 â€” Validation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header id="controls">
        <span class="title">IRONCLAD v0.5</span>

        <label>
            Entities <output id="entity-val">500</output>
            <input type="range" id="entity-slider" min="50" max="5000" step="50" value="500">
        </label>

        <label>
            Flashlight <output id="flash-val">150</output>px
            <input type="range" id="flash-slider" min="20" max="500" step="10" value="150">
        </label>

        <div class="btn-group">
            <button data-n="200">200</button>
            <button data-n="500">500</button>
            <button data-n="2000">2k</button>
            <button data-n="5000">5k</button>
        </div>

        <span class="hint">Green border = interactive DOM proxy. Drag to move.</span>
    </header>

    <main id="engine-container"></main>

    <script src="ironclad.js?v=3"></script>
    <script>
        const engine = new IroncladEngine('engine-container');
        engine.start(500);

        const slider = document.getElementById('entity-slider');
        const sVal   = document.getElementById('entity-val');
        const fSlider = document.getElementById('flash-slider');
        const fVal    = document.getElementById('flash-val');

        slider.addEventListener('input', () => {
            const n = parseInt(slider.value);
            sVal.textContent = n;
            engine.setEntityCount(n);
        });

        fSlider.addEventListener('input', () => {
            const r = parseInt(fSlider.value);
            fVal.textContent = r;
            engine.setFlashlightRadius(r);
        });

        document.querySelectorAll('[data-n]').forEach(btn => {
            btn.addEventListener('click', () => {
                const n = parseInt(btn.dataset.n);
                slider.value = n;
                sVal.textContent = n;
                engine.setEntityCount(n);
            });
        });
    </script>
</body>
</html>
